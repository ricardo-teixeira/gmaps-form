!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.form=document.getElementById("mapsForm");e.formSubmitBtn=t.querySelector("#mapsFormSubmit"),e.autocompletes=document.querySelectorAll('[data-gmaps="autocomplete"]'),e.modal=$("#mapsModal")})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(13)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORM_FIELDS_SCHEMA=void 0;var n={street:new t.Field,number:new t.Field,country:new t.Field,state:new t.Field,city:new t.Field,neighborhood:new t.Field({required:!1}),postal_code:new t.Field,lat:new t.Field,lng:new t.Field};e.FORM_FIELDS_SCHEMA=n})},function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e,t){switch(t){case"Brasil":return 8==e.replace(/\D/,"").length;default:return!0}};e.validatePostalCode=t})},function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={route:{value:"long_name",alias:"street"},street_number:{value:"long_name",alias:"number"},country:{value:"long_name",alias:"country"},administrative_area_level_2:{value:"long_name",alias:"city"},administrative_area_level_1:{value:"long_name",alias:"state"},sublocality_level_1:{value:"long_name",alias:"neighborhood"},postal_code:{value:"long_name",alias:"postal_code"}};e.FORM_FIELDS_MAPPER=t})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(1),n(5),n(7),n(0)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t,n,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateForm=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(t),a=function(e){if(e){var t=Object.assign({},i.default,e);Object.keys(t).forEach(function(t){r.form.elements[t]?r.form.elements[t].value=e[t]||"":(0,o.addFormInput)(t,e[t])}),(0,n.printBasicLocation)()}};e.updateForm=a})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(6)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printBasicLocation=void 0;var n=function(){var e=(0,t.getFormValues)();document.getElementById("formatedInputLocation").innerText=e.country+", "+e.state+", "+e.city};e.printBasicLocation=n})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(0)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFormValues=void 0;var n=function(){var e={};return Array.prototype.forEach.call(t.form.elements,function(t){t.name&&(e[t.name]=t.value)}),e};e.getFormValues=n})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(0)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addFormInput=void 0;var n=function(e,n){var o=document.createElement("input");o.type="hidden",o.name=e,o.value=n,t.form.appendChild(o)};e.addFormInput=n})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(0)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearFormErrors=void 0;var n=function(){var e=t.form.querySelectorAll(".text-danger"),n=t.form.querySelectorAll(".is-invalid");e.forEach(function(e){e.remove()}),n.forEach(function(e){e.classList.remove("is-invalid")})};e.clearFormErrors=n})},function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return'<div><small class="text-danger mt-2">'+e+"</small></div>"};e.createErrorElement=t})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(0),n(2)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enableFields=void 0;var o=function(e){var o=!!e.postal_code&&(0,n.validatePostalCode)(e.postal_code,e.country);t.form.elements.postal_code.readOnly=o||!1,t.form.elements.street.readOnly=!!e.street||!1};e.enableFields=o})},function(e,t,n){var o,r,i;!function(a,u){r=[n(12)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";!function(t,n,o){function r(r,c){function l(){var o=n.getElementById("map"),r=(0,e.gmaps)(o,t.google);r.addMapEventListener("click",function(e){return g(e,r)}),r.addMapEventListener("tilesloaded",function(){return(0,e.displayLoading)(!1)}),r.addMarkerEventListener("dragstart",function(){return r.infoWindow.close()}),r.addMarkerEventListener("dragend",function(e){return d(e,r)}),r.addAutocompleteEventListeners(e.autocompletes,function(e){y(e),r.focusMarkerPosition(e.getPlace())}),e.form.addEventListener("change",function(t){e.FORM_FIELDS_SCHEMA[t.target.name].onChange(t)}),e.formSubmitBtn.addEventListener("click",function(e){v(e,c)}),e.modal.on("shown.bs.modal",function(){return(0,e.initializeValues)(r,a)})}if(a=r||{country:"Brasil"},t.google)u||l();else{var s=n.createElement("script");s.onload=l,s.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDkNOmrr3Ec_sbxVZLY5xfP3hfNqLRKoG8&libraries=places",n.getElementsByTagName("head")[0].appendChild(s)}var f=function(t,n){if(t&&t.length>0){var o=t[0],r=(0,e.mapApiToFormFields)(o);r.lat=n.lat,r.lng=n.lng,(0,e.updateForm)(r),(0,e.enableFields)(r)}},d=function(e,t){var n={lat:e.latLng.lat(),lng:e.latLng.lng()};t.getGeocodePosition(n,f)},p=function(){var t=(0,e.getFormValues)(),n=(0,e.validateRequiredFields)(t);return o.Deferred(function(){var e=this;return n?m(t).then(function(){return e.resolve(n)}).fail(function(){return e.reject(!1)}):e.resolve(!1)})},m=function(t){return o.Deferred(function(){var n=this,o={lat:parseFloat(t.lat),lng:parseFloat(t.lng)};i.geocode({location:o},function(o,r){if(r==google.maps.GeocoderStatus.OK){var i=(0,e.mapApiToFormFields)(o[0]);i.street&&i.street!=t.street&&e.form.insertAdjacentHTML("afterend",(0,e.createErrorElement)("Logradouro incorreto")),i.neighborhood&&i.neighborhood!=t.neighborhood&&e.form.insertAdjacentHTML("afterend",(0,e.createErrorElement)("Bairro incorreto")),i.postal_code&&i.postal_code!=t.postal_code&&e.form.insertAdjacentHTML("afterend",(0,e.createErrorElement)("Bairro incorreto")),n.resolve()}else n.reject()})})},v=function(t,n){t.preventDefault(),p().then(function(t){if(t){var o=(0,e.getFormValues)();n&&n(o),e.modal.modal("hide")}})},y=function(t){var n=t.getPlace();if((0,e.clearFormErrors)(),Object.keys(n).length>1){var o=(0,e.mapApiToFormFields)(n);(0,e.updateForm)(o),(0,e.enableFields)(o)}},g=function(e,t){var n={lat:e.latLng.lat(),lng:e.latLng.lng()};t.marker.setPosition(n),t.getGeocodePosition(n,f)}}var i=void 0,a=void 0,u=!1;t.mapsAddressFinder=r}(window,document,jQuery)})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(3),n(1),n(4),n(5),n(7),n(6),n(14),n(18),n(15),n(8),n(2),n(16),n(10),n(0),n(17),n(9)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t,n,o,r,i,a,u,c,l,s,f,d,p,m,v,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})}),Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})})})},function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){var t={value:"",required:!0,onChange:new Function};return Object.assign({},t,e)};e.Field=t})},function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return{zoom:12,mapTypeControl:!0,mapTypeControlOptions:{position:e.maps.ControlPosition.TOP_CENTER},fullscreenControl:!1}},n=function(e){return{map:e,draggable:!0}},o=function(e,t){return function(n){return e.maps.event.trigger(t,n)}},r=function(e,t){return function(n,o){return e.addListener(t,n,o)}},i=function(e,t){return function(n,o){n.forEach(function(n){var r=new e.maps.places.Autocomplete(n,{types:["geocode"]});r.bindTo("bounds",t),r.addListener("place_changed",function(){return o(r)})})}},a=function(e){return function(t,n){t&&""!=t&&e.geocode({address:t},function(e,t){n(e,t)})}},u=function(e,t,n,o){return function(r,i){e.geocode({latLng:r},function(e){i(e,r,t),c(t,n,o)(e[0]),console.log(e[0])})}},c=function(e,t,n){return function(o){if(e.close(),o.address_components){var r=o.geometry.location.lat().toFixed(6),i=o.geometry.location.lng().toFixed(6),a=o.formatted_address.replace("Unnamed Road","Logradouro sem nome");e.setContent("<div><strong> "+a+"</strong><br>"+r+", "+i),e.open(t,n)}}},l=function(e,t){return function(n,o){e.setCenter(n),t.setPosition(n),o&&e.setZoom(19)}},s=function(e,t){return function(n){var o={lat:n.geometry.location.lat(),lng:n.geometry.location.lng()};t.setPosition(o),n.geometry.viewport?e.fitBounds(n.geometry.viewport):(e.setCenter(o),e.setZoom(17))}},f=function(e,c){var f=new c.maps.Map(e,t(c)),d=new c.maps.Marker(n(f)),p=new c.maps.Geocoder,m=new c.maps.InfoWindow;return{map:f,marker:d,geocoder:p,infoWindow:m,focusMarkerPosition:s(f,d),resetMapPosition:l(f,d),getGeocodePosition:u(p,m,f,d),findLocationByAddress:a(p),addAutocompleteEventListeners:i(c,f),triggerMapEvent:o(c,f),addMapEventListener:r(c.maps.event,f),addMarkerEventListener:r(c.maps.event,d)}};e.gmaps=f})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(3)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapApiToFormFields=void 0;var n=function(e){var n={};return n.lat=e.geometry.location.lat(),n.lng=e.geometry.location.lng(),e.address_components.forEach(function(e){var o=void 0;if(e.types.forEach(function(e){t.FORM_FIELDS_MAPPER[e]&&(o=Object.assign({},t.FORM_FIELDS_MAPPER[e]))}),o){var r=e[o.value],i=r&&"Unnamed Road"!=r?r:"";n[o.alias]=i}}),n};e.mapApiToFormFields=n})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(1),n(8),n(9),n(2),n(0)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t,n,o,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateRequiredFields=void 0;var a=function(e){(0,n.clearFormErrors)();var a=[];return Object.keys(e).forEach(function(n){var u=i.form.elements[n];if("hidden"!=u.type&&t.FORM_FIELDS_SCHEMA[n].required){var c=!0,l="";u.value?"postal_code"==u.name&&((0,r.validatePostalCode)(u.value,e.country)||(c=!1,l="Código postal inválido")):(c=!1,l="Obrigatório"),c||(a.push(n),u.classList.add("is-invalid"),u.parentNode.insertAdjacentHTML("beforeend",(0,o.createErrorElement)(l)))}}),0==a.length};e.validateRequiredFields=a})},function(e,t,n){var o,r,i;!function(n,a){r=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){var t=document.getElementById("mapsLoading");t&&(t.style.display=e?"block":"none")};e.displayLoading=t})},function(e,t,n){var o,r,i;!function(a,u){r=[t,n(0),n(4),n(10)],o=u,void 0!==(i="function"==typeof o?o.apply(t,r):o)&&(e.exports=i)}(0,function(e,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initializeValues=void 0;var r=function(e,r){if(e.triggerMapEvent("resize"),(0,n.updateForm)(r),t.modal.find('[data-gmaps="autocomplete"]')[0].focus(),r.lat&&r.lng){var i={lat:parseFloat(r.lat),lng:parseFloat(r.lng)};e.marker.setPosition(i),e.map.setCenter(i),e.map.setZoom(17)}else{var a=[];Object.keys(r).forEach(function(e){a.push(r[e])}),e.findLocationByAddress(a.join(", "),function(e,t){if("OK"==t){var n=e[0];focusMarkerPosition(n),(0,o.enableFields)(a)}})}};e.initializeValues=r})}]);
//# sourceMappingURL=app.bundle.js.map