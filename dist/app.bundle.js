!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){var o,r,a;!function(n,i){r=[t],o=i,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e.form=document.getElementById("mapsForm");e.formSubmitBtn=t.querySelector("#mapsFormSubmit"),e.autocompletes=document.querySelectorAll('[data-gmaps="autocomplete"]'),e.loading=document.getElementById("mapsLoading"),e.modal=$("#mapsModal")})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(15)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORM_FIELDS_SCHEMA=void 0;var n={street:new t.Field,number:new t.Field,country:new t.Field,state:new t.Field,city:new t.Field,neighborhood:new t.Field,postal_code:new t.Field,lat:new t.Field,lng:new t.Field};e.FORM_FIELDS_SCHEMA=n})},function(e,t,n){var o,r,a;!function(n,i){r=[t],o=i,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e,t){switch(t){case"Brasil":return 8==e.replace(/\D/,"").length;default:return!0}};e.validatePostalCode=t})},function(e,t,n){var o,r,a;!function(n,i){r=[t],o=i,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={route:{value:"long_name",alias:"street"},street_number:{value:"long_name",alias:"number"},country:{value:"long_name",alias:"country"},administrative_area_level_2:{value:"long_name",alias:"city"},administrative_area_level_1:{value:"long_name",alias:"state"},sublocality_level_1:{value:"long_name",alias:"neighborhood"},postal_code:{value:"long_name",alias:"postal_code"}};e.FORM_FIELDS_MAPPER=t})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(1),n(5),n(7),n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateForm=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(t),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(e){if(e){var t=i({},a.default,e);Object.keys(t).forEach(function(t){r.form.elements[t]?r.form.elements[t].value=e[t]||"":(0,o.addFormInput)(t,e[t])}),(0,n.printBasicLocation)()}};e.updateForm=u})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(6)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printBasicLocation=void 0;var n=function(){var e=(0,t.getFormValues)(),n=[];e.country&&n.push(e.country),e.state&&n.push(e.state),e.city&&n.push(e.city),document.getElementById("formatedInputLocation").innerText=n.join(", ")};e.printBasicLocation=n})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFormValues=void 0;var n=function(){var e={};return Array.prototype.forEach.call(t.form.elements,function(t){t.name&&(e[t.name]=t.value)}),e};e.getFormValues=n})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addFormInput=void 0;var n=function(e,n){var o=document.createElement("input");o.type="hidden",o.name=e,o.value=n,t.form.appendChild(o)};e.addFormInput=n})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(3)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapApiToFormFields=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o=function(e){var o={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};return e.address_components.forEach(function(e){var r=void 0;if(e.types.forEach(function(e){t.FORM_FIELDS_MAPPER[e]&&(r=n({},t.FORM_FIELDS_MAPPER[e]))}),r){var a=e[r.value],i=a&&"Unnamed Road"!=a?a:"";o[r.alias]=i}}),o};e.mapApiToFormFields=o})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0),n(2)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enableFields=void 0;var o=function(e){var o=!!e.postal_code&&(0,n.validatePostalCode)(e.postal_code,e.country);t.form.elements.postal_code.readOnly=o||!1,t.form.elements.street.readOnly=!!e.street||!1,t.form.elements.neighborhood.readOnly=!!e.neighborhood||!1};e.enableFields=o})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearFormErrors=void 0;var n=function(){t.form.querySelectorAll(".form-error").forEach(function(e){e.remove()})};e.clearFormErrors=n})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(10),n(12),n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showFormErrors=void 0;var r=function(e){(0,t.clearFormErrors)(),e.forEach(function(e){var t=$(o.form.elements[e.name]),r=t.closest(".form-group");r.addClass("is-invalid"),r.append((0,n.createErrorElement)(e.error))})};e.showFormErrors=r})},function(e,t,n){var o,r,a;!function(n,i){r=[t],o=i,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return"<div class='form-error'><small class=\"text-danger mt-2\">"+e+"</small></div>"};e.createErrorElement=t})},function(e,t,n){var o,r,a;!function(i,u){r=[n(14),n(22)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};!function(n,o){function r(r,u){function c(){(0,e.displayLoading)(!0);var t=o.getElementById("findGoogleAddressMap"),r=(0,e.gmaps)(t,n.google);r.addMapEventListener("tilesloaded",function(){return(0,e.displayLoading)(!1)}),r.addMapEventListener("click",function(e){return _(e,r)}),r.addMarkerEventListener("dragstart",function(){return r.infoWindow.close()}),r.addMarkerEventListener("dragend",function(e){return v(e,r)}),r.addAutocompleteEventListeners(e.autocompletes,function(e){g(e),r.focusMarkerPosition(e.getPlace())}),e.form.addEventListener("change",function(t){e.FORM_FIELDS_SCHEMA[t.target.name].onChange(t),s[t.target.name]={value:t.target.value,touched:!0}}),e.formSubmitBtn.addEventListener("click",function(e){return y(e,u)}),(0,e.initializeValues)(r,l),i=!0}var l=r.initialValues?r.initialValues:t({},a.initialValues),s={};if(n.google)i?((0,e.resetFormFields)(),(0,e.updateForm)(l)):c();else{var f=o.createElement("script");f.onload=c,f.onerror=function(t){(0,e.displayLoading)(!0,"Erro ao carregar Google Maps")},f.src="https://maps.googleapis.com/maps/api/js?key="+r.apiKey+"&libraries=places",o.getElementsByTagName("head")[0].appendChild(f)}var d=function(e){Object.keys(e).forEach(function(t){var n=e[t];n&&(n.touched=!1)})},p=function(t,n){if(t&&t.length>0){var o=t[0],r=(0,e.mapApiToFormFields)(o);r.lat=n.lat,r.lng=n.lng,(0,e.resetFormFields)(),(0,e.updateForm)(r),(0,e.enableFields)(r),d(s)}},v=function(e,t){var n={lat:e.latLng.lat(),lng:e.latLng.lng()};t.getGeocodePosition(n,p)},m=function(){var t=(0,e.getFormValues)();return(0,e.validateRequiredFields)(t)},y=function(t,n){if(t.preventDefault(),m()){var o=(0,e.getFormValues)();Object.keys(o).forEach(function(e){s[e]?s[e].value=o[e]:s[e]={value:o[e],touched:!1}}),n&&n(o),(0,e.clearAutocomplete)(),e.modal.modal("hide")}},g=function(t){var n=t.getPlace();if((0,e.clearFormErrors)(),Object.keys(n).length>1){var o=(0,e.mapApiToFormFields)(n);(0,e.updateForm)(o),(0,e.enableFields)(o),d(s)}},_=function(e,t){var n={lat:e.latLng.lat(),lng:e.latLng.lng()};t.marker.setPosition(n),t.getGeocodePosition(n,p)}}var a={apiKey:"",initialValues:{country:"Brasil"}},i=!1;n.findGoogleAddress=r}(window,document)})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(3),n(1),n(4),n(5),n(7),n(6),n(16),n(17),n(8),n(21),n(10),n(11),n(2),n(18),n(19),n(9),n(0),n(20),n(12)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n,o,r,a,i,u,c,l,s,f,d,p,v,m,y,g,_,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}})}),Object.keys(m).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(y).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}})}),Object.keys(g).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}})}),Object.keys(_).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return _[t]}})}),Object.keys(b).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}})})})},function(e,t,n){var o,r,a;!function(n,i){r=[t],o=i,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){var t={value:"",required:!0,onChange:new Function};return Object.assign({},t,e)};e.Field=t})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(8)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gmaps=void 0;var n=function(e){return{zoom:12,mapTypeControl:!0,mapTypeControlOptions:{position:e.maps.ControlPosition.TOP_CENTER},fullscreenControl:!1}},o=function(e){return{map:e,draggable:!0}},r=function(e,t){return function(n){return e.maps.event.trigger(t,n)}},a=function(e,t){return function(n,o){return e.addListener(t,n,o)}},i=function(e,t){return function(n,o){n.forEach(function(n){var r=new e.maps.places.Autocomplete(n,{types:["geocode"]});r.bindTo("bounds",t),r.addListener("place_changed",function(){return o(r)})})}},u=function(e){return function(t,n){t&&""!=t&&e.geocode({address:t},function(e,t){n(e,t)})}},c=function(e,t,n,o){return function(r,a){e.geocode({latLng:r},function(e){a(e,r,t),l(t,n,o)(e[0])})}},l=function(e,t,n){return function(o){if(e.close(),o.address_components){var r=o.geometry.location.lat().toFixed(6),a=o.geometry.location.lng().toFixed(6),i=o.formatted_address.replace("Unnamed Road","Logradouro sem nome");e.setContent("<div><strong> "+i+"</strong><br>"+r+", "+a),e.open(t,n)}}},s=function(e,t){return function(n,o){e.setCenter(n),t.setPosition(n),o&&e.setZoom(19)}},f=function(e,t){return function(n){if(n.geometry){var o={lat:n.geometry.location.lat(),lng:n.geometry.location.lng()};t.setPosition(o),n.geometry.viewport?e.fitBounds(n.geometry.viewport):(e.setCenter(o),e.setZoom(17))}}},d=function(e,n){return function(o){return $.Deferred(function(){var r=this,a={lat:parseFloat(o.lat),lng:parseFloat(o.lng)};n.geocode({location:a},function(n,a){if(a==e.maps.GeocoderStatus.OK){var i=(0,t.mapApiToFormFields)(n[0]),u=[];i.street&&i.street!=o.street&&u.push({name:"street",error:"Logradouro incorreto"}),i.neighborhood&&i.neighborhood!=o.neighborhood&&u.push({name:"neighborhood",error:"Bairro incorreto"}),i.postal_code&&i.postal_code!=o.postal_code&&u.push({name:"postal_code",error:"CEP incorreto"}),r.resolve(u)}else r.reject()})})}},p=function(e,t){var l=new t.maps.Map(e,n(t)),p=new t.maps.Marker(o(l)),v=new t.maps.Geocoder,m=new t.maps.InfoWindow;return{map:l,marker:p,geocoder:v,infoWindow:m,focusMarkerPosition:f(l,p),resetMapPosition:s(l,p),getGeocodePosition:c(v,m,l,p),findLocationByAddress:u(v),validateAddressAsync:d(t,v),addAutocompleteEventListeners:i(t,l),triggerMapEvent:r(t,l),addMapEventListener:a(t.maps.event,l),addMarkerEventListener:a(t.maps.event,p)}};e.gmaps=p})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0),n(4),n(9)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initializeValues=void 0;var r=function(e,r){if(e.triggerMapEvent("resize"),(0,n.updateForm)(r),r.lat&&r.lng){var a={lat:parseFloat(r.lat),lng:parseFloat(r.lng)};e.resetMapPosition(a)}else{var i=[];Object.keys(r).forEach(function(e){i.push(r[e])}),e.findLocationByAddress(i.join(", "),function(t,n){if("OK"==n){var r=t[0];e.focusMarkerPosition(r),(0,o.enableFields)(i)}})}t.modal.find('[data-gmaps="autocomplete"]')[0].focus()};e.initializeValues=r})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(1),n(2),n(11),n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t,n,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateRequiredFields=void 0;var a=function(e){var a=[];return Object.keys(e).forEach(function(o){var i=r.form.elements[o];if("hidden"!=i.type&&t.FORM_FIELDS_SCHEMA[o].required){var u=i.value,c=!0,l="";u?"postal_code"==o&&((0,n.validatePostalCode)(u,e.country)||(c=!1,l="Código postal inválido")):(c=!1,l="Obrigatório"),c||a.push({name:o,error:l})}}),(0,o.showFormErrors)(a),0==a.length};e.validateRequiredFields=a})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetFormFields=void 0;var n=function(){Object.keys(t.form.elements).forEach(function(e){e&&(t.form.elements[e].value="")})};e.resetFormFields=n})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.displayLoading=void 0;var n=function(e,n){n=n||"Carregando...",t.loading&&(t.loading.querySelector(".maps-loading-text").innerText=n,t.loading.style.display=e?"block":"none")};e.displayLoading=n})},function(e,t,n){var o,r,a;!function(i,u){r=[t,n(0)],o=u,void 0!==(a="function"==typeof o?o.apply(t,r):o)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clearAutocomplete=void 0;var n=function(){t.modal.find('[data-gmaps="autocomplete"]').value=""};e.clearAutocomplete=n})},function(e,t){}]);
//# sourceMappingURL=app.bundle.js.map